### Raspberry Pi Autonomous Golang 1.16 robot

<!-- 
    Logo image generated by Bing IA: https://www.bing.com/images/create/
-->
<img 
  src="./docs/images/layout/header.png" 
  alt="CineCataloGO, Study RESTful APIs in Golang for cinema catalog management"
  title="CineCataloGO"
/>
__Refactor para Go 1.21 em andamento*__

<br/>

[<img src="./docs/images/icons/go.svg" width="25px" height="25px" alt="go" title="Go">](https://go.dev/) [<img src="./docs/images/icons/javascript.svg" width="25px" height="25px" alt="Javascript" title="Javascript">](https://developer.mozilla.org/en-US/docs/Web/JavaScript) [<img src="./docs/images/icons/nodejs.svg" width="25px" height="25px" alt="NodeJS" title="NodeJS">](https://nodejs.org/en) [<img src="./docs/images/icons/ubuntu-color.svg" width="25px" height="25px" title="Ubunto" alt="Ubunto" />](https://ubuntu.com/) [<img src="./docs/images/icons/dotenv.svg" width="25px" height="25px" alt="DotEnv" title="DotEnv">](https://github.com/spf13/viper) [<img src="./docs/images/icons/github.svg" width="25px" height="25px" alt="GitHub" title="GitHub">](https://github.com/jtonynet) [<img src="./docs/images/icons/miro.svg" width="25px" height="25px" alt="Miro" title="Miro">](https://miro.com/) [<img src="./docs/images/icons/fritzing.svg" width="25px" height="25px" alt="Fritzing" title="Fritzing">](https://fritzing.org/)  [<img src="./docs/images/icons/visualstudiocode.svg" width="25px" height="25px" alt="VsCode" title="VsCode">](https://code.visualstudio.com/) [<img src="./docs/images/icons/heroku.svg" width="25px" height="25px" alt="Heroku" title="Heroku">](https://heroku.com) [<img src="./docs/images/icons/mqtt.svg" width="25px" height="25px" alt="MQTT" title="MQTT">](https://mqtt.org/) [<img src="./docs/images/icons/raspberrypi.svg" width="25px" height="25px" alt="RaspberryPi" title="RaspberryPi">](https://www.raspberrypi.org/) [<img src="./docs/images/icons/arduino.svg" width="25px" height="25px" alt="Arduino" title="Arduino">](https://www.arduino.cc/) 


![Badge Status](https://img.shields.io/badge/STATUS-IN_DEVELOPMENT-green?style=for-the-badge) 

<br/>

#### üï∏Ô∏è Minhas Redes:
[![linkedin](https://img.shields.io/badge/Linkedin-0A66C2?style=for-the-badge&logo=linkedin&logoColor=white)](https://www.linkedin.com/in/jos%C3%A9-r-99896a39/) [![dev.to](https://img.shields.io/badge/dev.to-0A0A0A?style=for-the-badge&logo=devdotto&logoColor=white)](https://dev.to/learningenuity) [![gmail](https://img.shields.io/badge/Gmail-D14836?style=for-the-badge&logo=gmail&logoColor=white)](mailto:learningenuity@gmail.com) [![Twitter](https://img.shields.io/badge/Twitter-1DA1F2?style=for-the-badge&logo=twitter&logoColor=white)](https://twitter.com/aromademirtilo) [![instagram](https://img.shields.io/badge/Instagram-E4405F?style=for-the-badge&logo=instagram&logoColor=white)](https://www.instagram.com/learningenuity) 

---

Projeto em desenvolvimento com finalidade de estudo de uso de Golang com Robotica B√°sica e IOT (libs [Gobot](https://gobot.io/) e [Gocv](https://gocv.io/)), funcional na plataforma base (Raspberry 3b+/4b Rasbpian recente).

![vers√£o atual](./docs/images/autogo_tank.jpg?raw=true "montado")

![arquitetura](./docs/images/autogo_miro.png?raw=true "arquitetura")

Setup:
  1. Em uma plataforma raspberry que siga o esquema autoGo e seus [scripts auxiliares](./scripts/README.md), instalar o [pi-blaster](https://github.com/sarfata/pi-blaster)

  2. Rodar ¬¥sudo raspi-config¬¥ entrar em ¬¥3 Interface Options¬¥ para habilitar a interface de camera ¬¥P1 Camera¬¥ e o barramento ¬¥P5 I2C¬¥

  3. Rodar o comando para alterar pinagem i2c e habilitar todos pins para o gobot: `./autogo.sh`

  4. Gerando Bin√°rio com raspberry como device alvo: `GOARM=6 GOARCH=arm GOOS=linux go build main.go`

  5. Rode o Bin√°rio. Com um teclado conectado ao raspberry, teclas de seta movimentam o veiculo, teclas "a, w, s, d" movimentam os servos da camera. Stream de video, condu√ß√£o pela web (pagina cliente) e condu√ß√£o aut√¥noma (via sensor de sonar e outros m√©todos) ainda ser√£o implementados

Esquema autoGo
![esquema](./docs/images/autogo_fritzing_schema.jpg?raw=true "esquema")


Setup Client:
  1. Configurar no arquivo .env o MessagerBroker com dados de uma conta MQTT. Broker [hive](https://www.hivemq.com/mqtt-cloud-broker/) gratuito sugerido
   
  2. Rodar `docker build --tag autogo-client-test .` e depois da imagem buildada rodar `docker run autogo-client-test`

  3. Validar mensagens de acordo com os recursos do autogo configurado na mesma fila com as mesmas envs `PROJECT_NAME` e `ROBOT_NAME`. Ter um client configurado no computador de testes √© aconselh√°vel, sugest√£o [mqtt-explorer](http://mqtt-explorer.com/)

Site Cliente e MQTT
![site cliente](./docs/images/site_client.jpg?raw=true "cliente")

![app cliente](./docs/images/mqtt_client.jpg?raw=true "cliente")

Refer√™ncias:
  - [Pq nao dockerizar o device?](https://ubuntu.com/blog/ros-docker)
  - [:::ROS Golang](https://ubuntu.com/blog/go-for-ros)
  - [Condu√ß√£o Aut√¥noma IA com Intel 1](https://towardsdatascience.com/robot-tank-with-raspberry-pi-and-intel-neural-computer-stick-2-77263ca7a1c7)
  - [Go vis√£o computacional](https://about.sourcegraph.com/go/gophercon-2018-computer-vision-using-go-and-opencv-3/)
  - [Raspberry com Gobot](https://gobot.io/documentation/platforms/raspi/)
  - [GPIO com Golang](https://pkg.go.dev/github.com/heupel/gobot/platforms/gpio#section-readme)
  - [Lib LCD i2c Golang](https://github.com/d2r2/go-hd44780)

-Pr√≥ximas etapas:
  - ~~Refatora√ß√£o na estrutura do c√≥digo~~
  - ~~Condu√ß√£o Aut√¥noma (Sonar set)~~
  - ~~Condu√ß√£o por Fila MQTT (e web Socket)~~
  - ~~Site Cliente para Condu√ß√£o~~
  - Dockerizar o site cliente e suas dependencias
  - C√≥digo mais aderente a boas pr√°ticas GO (interfaces, linter e demais melhorias)
  - SH e makefile para automatizar dependencias em instala√ß√£o nova
  - SH update de goversion no raspbian
  - Testes e valida√ß√£o para outros SO, Ubunto Mate (raspberry 4b) e Ubunto Nvidia Jetson :)
  - Implantar ROS::: Golang

Componentes:
  - [Plataforma Rocket-tank](https://www.robocore.net/robotica-robocore/plataforma-robotica-rocket-tank)
  - [Kit de expans√£o Rocket-tank](https://www.robocore.net/item-mecanico/kit-de-expansao-rocket-tank)
  - [Suporte pan tilt](https://lista.mercadolivre.com.br/suporte-pan-tilt-arduino)
  - [PowerBank minimo 2,5 amperes](https://lista.mercadolivre.com.br/powerbank-mi#D[A:PowerBank%20mi])
  - [Bateria 7,2 V](https://lista.mercadolivre.com.br/bateria-leao-nimh-7.2#D[A:bateria%20leao%20nimh%207.2])
  - [Raspberry py ModelB 3 ou mais recente](https://lista.mercadolivre.com.br/raspberry-py-modelb-3)
  - [Case raspberry com fan](https://lista.mercadolivre.com.br/case-raspberry-pi-cooler-duplo-aluminio_OrderId_PRICE_NoIndex_True)
  - [Raspicam](https://www.robocore.net/acessorios-raspberry-pi/camera-para-raspberry-pi-rev-1-3)
  - [16 ch pwm](https://lista.mercadolivre.com.br/16-ch-pwm)
  - [2x servos motores 9g](https://lista.mercadolivre.com.br/servos-motores-9g#D[A:servos%20motores%209g])
  - [Ponte H l298n](https://lista.mercadolivre.com.br/raspiberry-cam)
  - [Display LCD 16x2 i2c](https://lista.mercadolivre.com.br/display-16x2-i2c#D[A:display%2016x2%20i2c])
  - [4x Sensores Sonar](https://lista.mercadolivre.com.br/arduino-sonar-sensores#D[A:arduino%20sonar%20sensores])
  - [Arduino UNO](https://lista.mercadolivre.com.br/arduino-uno#D[A:Arduino%20UNO])
  - [Mini teclado sem fio](https://lista.mercadolivre.com.br/mini-keyboard#D[A:mini%20keyboard])
  - [Parafusos e porcas M3 20mm e 12mm](https://lista.mercadolivre.com.br/parafusos-e-porcas-m3-20mm#D[A:Parafusos%20e%20porcas%20M3%2020mm])
  - [Conector p4 2.1 mm](https://lista.mercadolivre.com.br/conector-p4-2.1-mm#D[A:conector%20p4%202.1%20mm])
  - [MPU9250](https://lista.mercadolivre.com.br/mpu9250#D[A:MPU9250])
  - MiniProtoboard OU Tubos termo retrateis, Cabos, fita isolante, curiosidade vontade e disposi√ß√£o para nao se frustrar muito no processo (o que n√£o raro, vai acontecer)

Criando novas Issues. A ideia √© manter atualizado enquanto avan√ßo em Golang e outros t√≥picos vinculados interessantes.

Existe uma vers√£o do projeto em Python (Autobot), pretendo andar com ela em paralelo pois Python j√° possui solu√ß√µes que ser√£o portadas para o AutoGo.

Um estudo divertido.
Todos estamos tentando melhorar. ;)

![primeiro teste](./docs/images/first_test.gif?raw=true "primeiro teste")
